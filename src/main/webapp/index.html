<!DOCTYPE html>
<!--
Copyright (C) 2015 Anastasiy Tovstik <anastasiy.tovstik@gmail.com>

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<html lang="en" ng-app="GradebookApp">
    <head>
        <title>GradeBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, width=device-width">

        <!-- Angular Material CSS -->
        <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Roboto:400,500,700,400italic'>
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.css">

        <!-- Angular Material Sidenav Menu CSS -->
        <link rel="stylesheet" href="css/material-menu-sidenav.min.css">

        <!-- Google Material Icons -->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

        <!-- GradeBook CSS -->
        <link rel="stylesheet" href="css/gradebook.css">
    </head>
    <body ng-controller="MainCtrl" layout="row">

        <!-- Sidenav -->
    <md-sidenav ng-hide="isLogin" class="site-sidenav md-sidenav-left md-whiteframe-z2"
                md-component-id="left" md-is-locked-open="$mdMedia('gt-md')" tabindex="-1">
        <header class="nav-header">
            <img src="images/Architectural_Association_Logo.jpg" alt>
        </header>
        <md-content flex>
            <div class="menu-static-row">
                <md-icon class="icon">account_box</md-icon>
                <span class="md-subhead">{{user.firstName}} {{user.lastName}}</span>
            </div>

            <md-button class="menu-button">
                <md-icon class="add-icon">add_circle</md-icon>
                <span>Add Gradebook</span>
            </md-button>

            <div class="menu-static-row" style="padding-top: 10px;">
                <span class="md-title">GROUPS</span>
            </div>

            <md-menu-sidenav class="menu">                
                <md-menu-sidenav-item ng-repeat="(key, value) in userGradebooks | groupBy: 'number'">
                    <md-menu-sidenav-title>
                        <md-toogle-menu layout="row" flex>
                            <h1 class="md-body-2" flex>{{key}}</h1>
                        </md-toogle-menu>
                        <md-icon flex="15">expand_more</md-icon>
                    </md-menu-sidenav-title>

                    <md-menu-sidenav-content>
                        <md-menu-sidenav-item ng-repeat="(key, value) in value | groupBy: 'semesterId'">
                            <md-menu-sidenav-title>
                                <md-toogle-menu layout="row" flex>
                                    <h1 class="md-body-2" flex>{{value[0].academicYear}} {{value[0].name}}</h1>
                                </md-toogle-menu>
                                <md-icon flex="15">expand_more</md-icon>
                            </md-menu-sidenav-title>

                            <md-menu-sidenav-content>
                                <md-menu-sidenav-subitem ng-repeat="gradebook in value">
                                    <a href="#/api/groups/{{gradebook.academicGroupId}}/semesters/{{gradebook.semesterId}}/gradebooks/{{gradebook.gradebookId}}/tasks">{{gradebook.subject}}</a>
                                </md-menu-sidenav-subitem>

                            </md-menu-sidenav-content>
                        </md-menu-sidenav-item>
                    </md-menu-sidenav-content>
                    <md-divider></md-divider>
                </md-menu-sidenav-item>
            </md-menu-sidenav>

            <md-button class="menu-button">
                <md-icon class="icon">settings</md-icon>
                <span>Settings</span>
            </md-button>

            <md-button class="menu-button">
                <md-icon class="icon">exit_to_app</md-icon>
                <span>Log out</span>
            </md-button>
        </md-content>  
    </md-sidenav>

    <!-- Main frame -->
    <div layout="column" tabindex="-1" flex>
        <!-- Toolbar -->
        <md-toolbar ng-hide="isLogin" class="md-whiteframe-z1">
            <div class="md-toolbar-tools">
                <md-button ng-click="toggleSidenav('left')" hide-gt-md class="md-icon-button">
                    <md-icon>menu</md-icon>
                </md-button>
                <div flex layout="row" layout-align="center center">
                    <span class="title">GradeBookâ„¢</span>
                    <span flex hide-sm></span>
                    <span hide-sm>Group | Subject | Year</span> 
                </div>
            </div>
        </md-toolbar>

        <!-- Content -->
        <md-content ui-view layout="column" flex></md-content>
    </div>  

    <!-- Angular Dependencies -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular-aria.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular-resource.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular-cookies.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular-messages.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.js"></script>
    <script src="lib/material-menu-sidenav.min.js"></script>
    <script src="lib/angular-ui-router.min.js"></script>
    <script src="lib/angular-filter.min.js"></script>

    <!-- GradeBook Script -->
    <script src="js/controllers.js"></script>
    <script src="js/services.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
